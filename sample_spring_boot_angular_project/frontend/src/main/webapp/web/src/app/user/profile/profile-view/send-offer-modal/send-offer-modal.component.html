<h1 class="send-offer-modal__header align-center mb-12">Send offer to <span class="blue-highlight">{{name}}</span>?</h1>

<span class="align-center mb-24 block">Job offer relates to <span class="blue">{{job.title}}</span></span>

<span class="align-center mb-24 mt-24 block blue"
      *ngIf="isStripePayment">
  You are about to send an official job offer. Once this process has begun, your<br>job will be closed to other applicants.
</span>

<div class="flex flex-justify-space-between flex-wrap">
  <div class="send-offer-modal__block full-width-xs" [hidden]="isStripePayment === true">
    <span class="send-offer-modal__description blue-highlight">
      You are about to send an official job offer. Once this process has begun, your job will be closed to other applicants.
    </span>
    <label class="label label-big mt-24">Payment Process:</label>

    <span class="send-offer-modal__description mt-12">
        <label class="label-big">Step 1: </label> 50% of your job total will be processed now as a booking retainer and the Public
                                                        Liability and Indemnity insurance cover will be activated.
    </span>

    <span class="send-offer-modal__description mt-12">
         <label class="label-big">Step 2: </label> The remaining balance is payable 14 days prior to the job date.
    </span>

    <span class="send-offer-modal__description mt-12">
         <label class="label-big">Step 3: </label> Once the job has been completed - we'll release payment to your crew.
    </span>

    <span class="send-offer-modal__description mt-12">
        <label class="label-big">Note: </label>
      Whilst we do not charge any commissions, there will be an administration fee dependent on your chosen payment method.
         <span class="blue block mt-12">For jobs starting in 14 days or less, full amount will be charged via Visa / MasterCard only.</span>
    </span>

  </div>

  <ng-container *ngIf="isStripePayment">
    <div class="full-width-xs stripe-payment-block">

      <label class="label label-big">ENTER PAYMENT DETAILS</label>

      <div class="credit-card mt-12">
        <label for="card-info" class="credit-card__label">CREDIT CARD INFORMATION</label>
        <div id="card-info" #cardInfo></div>
      </div>
      <div id="card-errors" class="alert-error credit-card__error" role="alert" [ngClass]="{'active': cardError}">{{ cardError }}</div>

      <div class="full-width flex flex-justify-space-between flex-wrap mb-48">
        <div class="flex flex-align-center details-box__items mb-12">
          <div class="box-icon align-center">

            <svg width="36px" height="38px" viewBox="0 0 36 38" version="1.1" xmlns="http://www.w3.org/2000/svg">
              <defs></defs>
              <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="icons" transform="translate(-156.000000, -34.000000)" fill="#4DA1FF" stroke="#4DA1FF">
                  <path
                      d="M165.872738,55.8752598 L162.529554,55.8752598 L162.529554,52.5002969 L165.872738,52.5002969 L165.872738,55.8752598 Z M161.186955,57.2496289 L167.216509,57.2496289 L167.216509,51.1259277 L161.186955,51.1259277 L161.186955,57.2496289 Z M165.872738,65.3757051 L162.529554,65.3757051 L162.529554,61.9995547 L165.872738,61.9995547 L165.872738,65.3757051 Z M161.186955,66.7500742 L167.216509,66.7500742 L167.216509,60.6245918 L161.186955,60.6245918 L161.186955,66.7500742 Z M175.245477,55.8752598 L171.902292,55.8752598 L171.902292,52.5002969 L175.245477,52.5002969 L175.245477,55.8752598 Z M170.559108,57.2496289 L176.588661,57.2496289 L176.588661,51.1259277 L170.559108,51.1259277 L170.559108,57.2496289 Z M175.245477,65.3757051 L171.902292,65.3757051 L171.902292,61.9995547 L175.245477,61.9995547 L175.245477,65.3757051 Z M170.559108,66.7500742 L176.588661,66.7500742 L176.588661,60.6245918 L170.559108,60.6245918 L170.559108,66.7500742 Z M184.618215,55.8752598 L181.275031,55.8752598 L181.275031,52.5002969 L184.618215,52.5002969 L184.618215,55.8752598 Z M179.931846,57.2496289 L185.9614,57.2496289 L185.9614,51.1259277 L179.931846,51.1259277 L179.931846,57.2496289 Z M184.618215,65.3757051 L181.275031,65.3757051 L181.275031,61.9995547 L184.618215,61.9995547 L184.618215,65.3757051 Z M179.931846,66.7500742 L185.9614,66.7500742 L185.9614,60.6245918 L179.931846,60.6245918 L179.931846,66.7500742 Z M157.843185,45.3760019 L189.304584,45.3760019 L189.304584,68.4375557 C189.304584,69.3682851 188.557958,70.1250371 187.632992,70.1250371 L159.515363,70.1250371 C158.590363,70.1250371 157.843185,69.368248 157.843185,68.4375557 L157.843185,45.3760019 Z M165.872738,40.6266699 L167.215923,40.6266699 L167.215923,38.2505195 L179.931846,38.2505195 L179.931846,40.6266699 L181.275031,40.6266699 L181.275031,38.2505195 L187.632992,38.2505195 C188.558088,38.2505195 189.304584,39.0074014 189.304584,39.9385947 L189.304584,44.001039 L157.843185,44.001039 L157.843185,39.9385947 C157.843185,39.0074385 158.590233,38.2505195 159.515363,38.2505195 L165.872738,38.2505195 L165.872738,40.6266699 Z M181.275031,34.5 L179.931846,34.5 L179.931846,36.8755566 L167.215923,36.8755566 L167.215923,34.5 L165.872738,34.5 L165.872738,36.8755566 L158.343185,36.8755566 C157.326822,36.8755566 156.5,37.7135922 156.5,38.7505195 L156.5,69.6250371 C156.5,70.6623341 157.3266,71.5 158.343185,71.5 L188.804584,71.5 C189.821169,71.5 190.647769,70.6623341 190.647769,69.6250371 L190.647769,38.7505195 C190.647769,38.6615524 190.648165,38.5916518 190.649334,38.4387585 C190.655257,37.668305 190.636161,37.3809307 190.54729,37.1543617 C190.469297,36.9555245 190.339617,36.8755566 189.976177,36.8755566 L181.275031,36.8755566 L181.275031,34.5 Z"
                      id="calendar-icon"></path>
                </g>
              </g>
            </svg>

          </div>
          <label class="label">
            DATE OF SHOOT <br>
            <span class="top-label" style="text-transform: none">{{job.date | zuDate:'short-month'}}</span>
          </label>
        </div>

        <div class="flex flex-align-center details-box__items mb-12">
          <div class="box-icon align-center">

            <svg width="18px" height="36px" viewBox="0 0 18 36" version="1.1" xmlns="http://www.w3.org/2000/svg">
              <defs></defs>
              <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="icons" transform="translate(-313.000000, -36.000000)" fill="#56A6FF" fill-rule="nonzero">
                  <path
                      d="M327.494956,46.9154206 C327.296869,45.2520745 326.776497,44.0187717 325.944845,43.2132085 C325.110048,42.409949 323.909734,42.0060155 322.344688,42.0060155 C320.71204,42.0060155 319.44491,42.4153246 318.530722,43.2354786 C317.614961,44.0525608 317.155902,45.1952473 317.155902,46.6581625 C317.155902,47.9598114 317.583519,49.0003626 318.423032,49.7706009 C319.253111,50.530856 320.672737,51.164402 322.68741,51.6858295 C325.490502,52.4046161 327.577492,53.4413277 328.957815,54.7982679 C330.319272,56.1421532 331,57.8193221 331,59.8274707 C331,62.2633589 330.157343,64.2569167 328.463383,65.8150558 C327.173457,67.0122656 325.573824,67.745643 323.67313,68.0105804 L323.67313,72 L320.4267,72 L320.4267,68.0282429 C318.541727,67.7356599 316.880781,66.9331684 315.445434,65.6161608 C313.824577,64.1102413 313.017293,62.4077305 313,60.5047889 L313.045592,59.8267028 L316.207127,59.8267028 C316.236211,61.6098466 316.751867,62.9852173 317.756452,63.9574223 C318.760252,64.9280915 320.179091,65.4164978 322.007468,65.4164978 C323.835844,65.4164978 325.262544,64.9273235 326.287567,63.9574223 C327.31259,62.9852173 327.824315,61.6359564 327.824315,59.9096397 C327.824315,58.4728343 327.336172,57.3224685 326.353596,56.4570063 C325.366304,55.6038311 323.70693,54.878901 321.373117,54.2791442 C318.90017,53.6417586 317.049784,52.6964312 315.825888,51.4470019 C314.597275,50.1968045 313.988078,48.6186992 313.988078,46.7165255 C313.988078,44.5340558 314.767064,42.7516799 316.330538,41.3701657 C317.486047,40.3449732 318.849862,39.7052838 320.425914,39.4534013 L320.425914,36 L323.672344,36 L323.672344,39.352034 C325.545526,39.5793426 327.077558,40.2359265 328.277872,41.3263935 C329.764313,42.6841016 330.565309,44.5448068 330.677715,46.9146526 L327.494956,46.9146526 L327.494956,46.9154206 Z"
                      id="Shape"></path>
                </g>
              </g>
            </svg>

          </div>
          <label class="label" *ngIf="checkIsStripeOnly() === false">
            CHARGED TODAY<br>
            <span class="top-label">{{calcPayment('stripe') | currency: '$'}}</span>
          </label>

          <label class="label" *ngIf="checkIsStripeOnly()">
            CHARGED TODAY<br>
            <span class="top-label">{{calcPayment('stripe1') | currency: '$'}}</span>
          </label>
        </div>
      </div>

      <!--<label class="inline-block label fs-18 mt-12 mb-12 blue" *ngIf="checkIsStripeOnly()">-->
      <!--For 14 days or less of the job date the only option is Visa/MasterCard.-->
      <!--</label>-->

      <div class="mb-24 mt-24 flex button-wrapper">
        <!-- Back to job list button -->
        <button type="button"
                mat-raised-button
                class="button-primary button-grey button-short full-width send-offer-modal__button"
                (click)="goBack()">
          Go back
        </button>

        <!-- Submit button -->
        <button type="button"
                mat-raised-button
                class="button-primary button-short full-width send-offer-modal__button"
                (click)="onSendOffer()">
          Send Job Offer
        </button>
      </div>
    </div>
  </ng-container>

  <div class="send-offer-modal__block full-width-xs mt-12" [hidden]="isStripePayment === true">
    <div class="flex flex-align-center details-box__items mb-12">
      <div class="box-icon align-center">

        <svg width="45px" height="47px" viewBox="0 0 36 38" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <defs></defs>
          <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="icons" transform="translate(-156.000000, -34.000000)" fill="#4DA1FF" stroke="#4DA1FF">
              <path
                  d="M165.872738,55.8752598 L162.529554,55.8752598 L162.529554,52.5002969 L165.872738,52.5002969 L165.872738,55.8752598 Z M161.186955,57.2496289 L167.216509,57.2496289 L167.216509,51.1259277 L161.186955,51.1259277 L161.186955,57.2496289 Z M165.872738,65.3757051 L162.529554,65.3757051 L162.529554,61.9995547 L165.872738,61.9995547 L165.872738,65.3757051 Z M161.186955,66.7500742 L167.216509,66.7500742 L167.216509,60.6245918 L161.186955,60.6245918 L161.186955,66.7500742 Z M175.245477,55.8752598 L171.902292,55.8752598 L171.902292,52.5002969 L175.245477,52.5002969 L175.245477,55.8752598 Z M170.559108,57.2496289 L176.588661,57.2496289 L176.588661,51.1259277 L170.559108,51.1259277 L170.559108,57.2496289 Z M175.245477,65.3757051 L171.902292,65.3757051 L171.902292,61.9995547 L175.245477,61.9995547 L175.245477,65.3757051 Z M170.559108,66.7500742 L176.588661,66.7500742 L176.588661,60.6245918 L170.559108,60.6245918 L170.559108,66.7500742 Z M184.618215,55.8752598 L181.275031,55.8752598 L181.275031,52.5002969 L184.618215,52.5002969 L184.618215,55.8752598 Z M179.931846,57.2496289 L185.9614,57.2496289 L185.9614,51.1259277 L179.931846,51.1259277 L179.931846,57.2496289 Z M184.618215,65.3757051 L181.275031,65.3757051 L181.275031,61.9995547 L184.618215,61.9995547 L184.618215,65.3757051 Z M179.931846,66.7500742 L185.9614,66.7500742 L185.9614,60.6245918 L179.931846,60.6245918 L179.931846,66.7500742 Z M157.843185,45.3760019 L189.304584,45.3760019 L189.304584,68.4375557 C189.304584,69.3682851 188.557958,70.1250371 187.632992,70.1250371 L159.515363,70.1250371 C158.590363,70.1250371 157.843185,69.368248 157.843185,68.4375557 L157.843185,45.3760019 Z M165.872738,40.6266699 L167.215923,40.6266699 L167.215923,38.2505195 L179.931846,38.2505195 L179.931846,40.6266699 L181.275031,40.6266699 L181.275031,38.2505195 L187.632992,38.2505195 C188.558088,38.2505195 189.304584,39.0074014 189.304584,39.9385947 L189.304584,44.001039 L157.843185,44.001039 L157.843185,39.9385947 C157.843185,39.0074385 158.590233,38.2505195 159.515363,38.2505195 L165.872738,38.2505195 L165.872738,40.6266699 Z M181.275031,34.5 L179.931846,34.5 L179.931846,36.8755566 L167.215923,36.8755566 L167.215923,34.5 L165.872738,34.5 L165.872738,36.8755566 L158.343185,36.8755566 C157.326822,36.8755566 156.5,37.7135922 156.5,38.7505195 L156.5,69.6250371 C156.5,70.6623341 157.3266,71.5 158.343185,71.5 L188.804584,71.5 C189.821169,71.5 190.647769,70.6623341 190.647769,69.6250371 L190.647769,38.7505195 C190.647769,38.6615524 190.648165,38.5916518 190.649334,38.4387585 C190.655257,37.668305 190.636161,37.3809307 190.54729,37.1543617 C190.469297,36.9555245 190.339617,36.8755566 189.976177,36.8755566 L181.275031,36.8755566 L181.275031,34.5 Z"
                  id="calendar-icon"></path>
            </g>
          </g>
        </svg>

      </div>
      <label class="label-big">
        DATE OF SHOOT <br>
        <span class="top-label" style="text-transform: none;">{{job.date | zuDate:'short-month'}}</span>
      </label>
    </div>

    <label class="label label-big mt-5">CHOOSE PAYMENT METHOD:</label>
    <div class="flex flex-justify-space-between mt-12">
      <button (click)="selectMethod('stripe')" class="payment-method" [ngClass]="{'selected-payment': selectedPayment === 'stripe'}">
        <img src="../../../../../assets/images/visa_mastercard.svg">
      </button>
      <button (click)="selectMethod('gocardless')" class="payment-method gocardless"
              [ngClass]="{'selected-payment': selectedPayment === 'gocardless'}" [disabled]="checkIsStripeOnly()">
        <img src="../../../../../assets/images/Go-Cardless-direct-debit.png">
      </button>
    </div>

    <label class="label label-big mt-12">PAYMENT SCHEDULE:</label>
    <div *ngIf="selectedPayment">
      <ng-container *ngIf="checkIsStripeOnly() === false">
        <span class="label label-big">{{totalAmount | currency: '$'}}</span>
        <p class="info-payment label label-big mt-12">the remaining balance of {{totalAmount | currency: '$'}}</p>
        <p class="info-payment label label-big mt-12">will be payable on {{getPaymentInfoDate() | zuDate:'short-month'}}</p>
      </ng-container>

      <ng-container *ngIf="checkIsStripeOnly()">
        <span class="label label-big">{{calcPayment('stripe1') | currency: '$'}}</span>
        <p class="info-payment label label-big mt-12">No remaining balance</p>
      </ng-container>
    </div>

    <div class="mb-24 mt-24 flex button-wrapper">
      <!-- Back to job list button -->
      <button type="button"
              mat-raised-button
              class="button-primary button-grey button-short full-width send-offer-modal__button"
              (click)="closeModal()">
        Cancel
      </button>

      <!-- Continue  next step button -->
      <button type="button"
              mat-raised-button
              class="button-primary button-short full-width send-offer-modal__button"
              (click)="onContinue()">
        Continue
      </button>

    </div>
  </div>

</div>
