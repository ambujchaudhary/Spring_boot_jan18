<div class="spinner" [hidden]="!hidden"></div>

<zu-header></zu-header>

<zu-intro-header [background]="2" [title]="'ADMIN REPORTS'"></zu-intro-header>

<section class="flex main-height admin-page-backgroud">
  <mat-card class="full-width">
    <mat-card-content class="main-content-padding container">

      <div class="admin-datepickers-wrapper">
        <zu-admin-datepicker class="admin-datepicker"
                             (onChange)="change(adminDatepickerModelEnum.DAY, $event)"
                             [buttonLabel]="'DAY'"
                             [mode]="adminDatepickerModelEnum.DAY">

        </zu-admin-datepicker>

        <zu-admin-datepicker class="admin-datepicker"
                             (onChange)="change(adminDatepickerModelEnum.MONTH, $event)"
                             [buttonLabel]="'MONTH'"
                             [mode]="adminDatepickerModelEnum.MONTH">
        </zu-admin-datepicker>

        <zu-admin-datepicker class="admin-datepicker"
                             (onChange)="change(adminDatepickerModelEnum.YEAR, $event)"
                             [buttonLabel]="'YEAR'"
                             [mode]="adminDatepickerModelEnum.YEAR">
        </zu-admin-datepicker>
      </div>

      <p class="label align-center" *ngIf="reportsInfo">Currently looking for: <span class="blue">{{reportsInfo}}</span></p>

      <div class="reports-wrapper" *ngIf="report != null">
        <div class="reports-info">
          <span class="reports-number reports-number__created_jobs">{{ report.jobs }}</span>
          <label class="label label-reports" *ngIf="report.jobs === 0">No Jobs Created Yet</label>
          <label class="label label-reports" *ngIf="report.jobs !== 0">Jobs Created</label>
        </div>

        <div class="reports-vertical-line-separator"></div>

        <div class="reports-info">
          <span class="reports-number reports-number__users">{{ report.users }}</span>
          <label class="label label-reports" *ngIf="report.users === 0">No Users Yet</label>
          <label class="label label-reports" *ngIf="report.users !== 0">Users</label>
        </div>

        <div class="reports-vertical-line-separator"></div>

        <div class="reports-info">
          <span class="reports-number reports-number__applicants">{{ report.applicants }}</span>
          <label class="label label-reports" *ngIf="report.applicants === 0">No Applicants Yet</label>
          <label class="label label-reports" *ngIf="report.applicants !== 0">Applicants</label>
        </div>
      </div>

      <a class="link-default align-left mt-24 inline-block" (click)="getDownloadReportLink()" [hidden]="hidden" *ngIf="!downloadReportLink">
        Generate report
      </a>

      <a href="{{downloadReportLink.url}}"
         download
         class="link-default align-left mt-24 inline-block"
         *ngIf="downloadReportLink && isMobile() === false">
        Download all-time report
      </a>

      <a (click)="downloadReportMobile(downloadReportLink.url)"
         download
         class="link-default align-left mt-24 inline-block"
         *ngIf="downloadReportLink && isMobile() === true">
        Download all-time report
      </a>

    </mat-card-content>
  </mat-card>
</section>